---
layout: post
title: 18. Kafka 클러스터 구축
date: 2022-08-28
category: Kafka
use_math: true
---

### kafka 설치 

0. 가상환경 설정

```bash
$ sudo apt install python3.9
$ mkdir kafka
$ cd kafka
$ virtualenv --python=python3.9 kafka-env
$ source ./kafka-env/bin/activate
```


1. https://kafka.apache.org/downloads 에서 Binary downloads: Scala 2.13 버전 다운로드 후 압축 해제

```bash
$ tar xvf kafka_2.13-3.2.1.tgz
$ ln -s kafka_2.13-3.2.1 kafka  # 심볼릭 링크 만들기
```
![image](https://user-images.githubusercontent.com/61526722/190840801-24e5d9f5-4551-4147-8bf3-4763184037f5.png)

![image](https://user-images.githubusercontent.com/61526722/190840780-50ae10ca-6d80-434f-b8ca-9ac3a189b684.png)

![image](https://user-images.githubusercontent.com/61526722/190840829-56cffe9a-b05c-4496-9911-5ea6a7bd806a.png)

bin은 kafka 를 실행하기 위한 shell script가 들어있고, config는 설정 파일 리스트들이 들어있다. 


2. kafka 띄우기

kafka를 띄우기 위해서 zookeeper를 띄워야 한다. config/zookeeper.properties를 살펴보면 zookeeper는 /tmp/zookeeper 에 데이터를 저장하고, 기본적으로 2181 포트를 사용한다. 

![image](https://user-images.githubusercontent.com/61526722/190840879-45cd0607-9051-47e2-8f85-5ff5269f2374.png)

```bash
$ tar xvf kafka_2.13-3.2.1.tgz
$ ln -s kafka_2.13-3.2.1 kafka  # 심볼릭 링크 만들기
```
