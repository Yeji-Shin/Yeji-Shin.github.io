---
layout: post
title: 도커 데몬 디버깅
date: 2022-08-20
category: DevOps
use_math: true
---

docker system 의 서브 커맨드를 활용해서 디버깅을 해보자.

```powershell
(docker) PS D:\workspace\docker> docker system  

Usage:  docker system COMMAND

Manage Docker

Commands:
  df          Show docker disk usage
  events      Get real time events from the server
  info        Display system-wide information
  prune       Remove unused data

Run 'docker system COMMAND --help' for more information on a command.
```


## info
```
# 시스템 정보 출력
docker system info
```

## events

```
# 스트리밍 형식으로 도커 이벤트 확인
docker system events 
```

![image](https://user-images.githubusercontent.com/61526722/185742823-fbb79d92-0bdb-464d-880a-aba2cf2724bf.png)

컨테이너가 만들어지는 과정이 이벤트로 확인된다. 

## df


```
# 디스크 사용량 확인
docker system df 
docker system df -v
```

![image](https://user-images.githubusercontent.com/61526722/185742897-12a9a3b7-6910-46f7-b667-337a6c6570fe.png)

reclaimable은 도커가 회수할 수 있는 자원량이다. 

## prune

```
# 중지된 컨테이너, 사용되지 않는 네트워크 등 삭제
docker system prune 
```


![image](https://user-images.githubusercontent.com/61526722/185742945-e340b987-eae0-4f9b-9b0c-ccbb861be459.png)

## stats


```
# 각 컨테이터 별로 자원 사용량 (CPU, Memory, network io 등) 확인
docker stats 
```

![image](https://user-images.githubusercontent.com/61526722/185742976-653c9ca7-14f3-4c81-b8df-fabd4f3fcaef.png)
